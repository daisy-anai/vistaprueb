<ng-container>
  <div class="row">
    <div class="col s12 m10 offset-m1">
      <div class="row valign-wrapper">
        <div class="col s12 left-align valign-wrapper">
          <a class="" [routerLink]="['/aplicacion/concesion/busqueda']" style="margin-right: 15px; margin-top: 5px; cursor: pointer">
            <i class="material-icons">arrow_back</i>
          </a>
          <label class="title-component">Validación de vehículo</label>
        </div>
      </div>
    </div>
  </div>

  <div class="search-card">
    <div class="row search">
      <div class="col s12 m10 offset-m1">
        <input name="filtro" id="filtro" class="browser-default placeholder-fix"
        (keydown.enter)="onKeyDown($event)"
        placeholder="Buscar vehículo" type="search" autofocus
        autocomplete="off" [(ngModel)]="filtro">
      </div>
    </div>

    <div class="row options">
      <div class="col s12 m10 offset-m1">
        <div class="row">
          <div class="col s12 right-align">
            <a class="waves-effect waves-light grey btn-small grey lighten-4 black-text" (click)="buscar()">
              <i class="material-icons right">search</i> Buscar
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="loading">
    <div class="col s8 offset-s2">
      <div class="progress">
        <div class="indeterminate"></div>
      </div>
    </div>
  </div>

  <div *ngIf="vehiculo" class="result-card row">
    <ul class="col s12 m8 offset-m2">
      <li class="row z-depth-2"
      [ngClass]="{'resultPointerNotAllowed': !permitido(vehiculo), 'resultPointerAllowed': permitido(vehiculo)}"
      (click)="redirect(vehiculo)">
        <div class="">
          <div class="">
            <label class="title">Número de serie</label>
            <label class="info"> {{vehiculo.serie}} </label>
          </div>
          <div class="">
            <label class="title">Número de motor:</label>
            <label class="info"> {{vehiculo.id}} </label>
          </div>
          <div class="">
            <label class="title">Año modelo:</label>
            <label class="info"> {{vehiculo.anioModelo}} </label>
          </div>
          <div class="" *ngIf="vehiculo.numeroEconomico">
            <label class="title">Número economico:</label>
            <label class="info"> {{vehiculo.numeroEconomico}} </label>
          </div>
          <div class="">
            <label class="title">Tipo:</label>
            <label class="info"> {{vehiculo.tipo.nombre}} - {{vehiculo.marca.nombre}} </label>
          </div>
          <div class="">
            <div class="">
              <label class="title">Estado del vehiculo:</label>
              <label class="info" [ngClass]="{
                'redLabel': vehiculo.estatus != 'A',
                'greenLabel': vehiculo.estatus == 'A'
              }"> {{vehiculo.estatus == 'A' ? 'Activo' : 'Bloqueado'}} </label>
            </div>
            <div class="">
              <a *ngIf="permitido(vehiculo)"
                class="btn-floating btn-small waves-effect waves-light pink right">
                <i class="material-icons">arrow_forward</i>
              </a>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</ng-container>
