<!--Crear Catalogo -->
<ng-container >
  <semovi-card>
    <semovi-card-header>
      <div class="row">
        <div class="col s8 valign-wrapper">  
          <semovi-card-header-icon icon="arrow_back"></semovi-card-header-icon>
          <semovi-card-header-title> Crear catálogo </semovi-card-header-title>
        </div>
      </div>
    </semovi-card-header>
    <semovi-body>
      <div class="row">
        <div class="col s12">
          <form [formGroup]="catalogueForm" (ngSubmit)="createCatalogue()">
            <div *ngIf="modalidad" >
              <p class="card-title">{{ modalidad.nombre }}</p>
            </div>

            <div class="input-field ">
              <input id="nombre_catalogo" type="text" class="validate"
              formControlName="name_catalogue"  autocomplete="off">
              <label for="nombre_catalogo">Nombre del catalogo</label>
            </div>
          
            <div class="">
              <label for="id_tipo_catalogo">Tipo de catalogo</label>
              <select class="browser-default" formControlName="id_catalogue">
                <option value="" disabled selected>Elige una opción</option>
                <option *ngFor="let catalogo of catalogoTypes" value="{{catalogo.id}}"> {{ catalogo.name }} </option>
              </select>
            </div>   
            <!--configuracion (propiedasdes secciones)-->
            <div class="row right"> 
              <div class="col s6">
                <a class="btn-floating btn-large waves-effect waves-light red btn-small red darken-2" id="addseccion"  (click)="addSeccion()">
                  <i class="material-icons">add</i>
                </a>
              </div>
            </div>

            <div class="row">
              <div class="col s12">
                <div formArrayName="seccion" *ngFor="let seccion of catalogueForm.controls.seccion.value; let i = index">          
                  <div class="card col s10 offset-s1">
                    <div class="row valign-wrapper">
                        <div class="col s12">
                          <p class="card-title">seccion</p>
                        </div>
                    </div>

                    <div  class="row">
                      <div  class="input-field col s12">
                        <div [formGroupName]="i">
                          <i class="material-icons prefix">textsms</i>
                          <input id="seccion" type="text" class="validate"
                          formControlName="seccionName" autocomplete="off">
                          </div>
                      </div>
                    </div> 

                    <div  class="row">
                      <div class="col s12">
                        <a class="btn-floating btn-large waves-effect waves-light red btn-small red darken-2 "  (click)="addPropiedad()">
                          <i class="material-icons">add</i>
                        </a>
                      </div>
                    </div>
                  </div>           
                </div>
              </div>
            </div>
          
        
            <div class="row">
              <div class="col s12">
                <button type="submit" class="waves-effect waves-light btn-small right" > Registrar catalogo</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </semovi-body>
  </semovi-card>
</ng-container>

